# Schedule-VVSU **Lite Self-Hosted**

–õ–µ–≥–∫–∞—è **Self-Hosted** –≤–µ—Ä—Å–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –í–í–ì–£ –≤ Google Calendar.  
–ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ **–±–µ–∑ Docker**, —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ —É–¥–æ–±–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.

> –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (—Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, Telegram-–±–æ—Ç–æ–º –∏ Docker-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –≤–µ—Ç–∫–µ **main**.  
> –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∫ –≤–µ—Ç–∫–µ **lite-selfhosted**.

[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
![Self-Hosted](https://img.shields.io/badge/deploy-self--hosted-2ea44f)
![systemd](https://img.shields.io/badge/systemd-timer-blueviolet)
![Ansible](https://img.shields.io/badge/ansible-playbook-red)
![Playwright](https://img.shields.io/badge/Playwright-Firefox-informational)
![Google%20Calendar%20API](https://img.shields.io/badge/Google-Calendar%20API-success)
![Latest Tag](https://img.shields.io/github/v/tag/NkvMax/vvsu-schedule?sort=semver)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
![Stars](https://img.shields.io/github/stars/NkvMax/vvsu-schedule?style=social)
![Forks](https://img.shields.io/github/forks/NkvMax/vvsu-schedule?style=social)


---

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –í–í–ì–£ —Å Google Calendar
- –ó–∞–ø—É—Å–∫ –±–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ (—á–∏—Å—Ç—ã–π Python + venv)
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ **Playwright + Firefox headless** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±—Ä–∞—É–∑–µ—Ä–∞
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ **systemd timer** (cron-–ø–æ–¥–æ–±–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ **Ansible**
- –£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ —á–µ—Ä–µ–∑ **Makefile**
- –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—è–º–∏ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ Google

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –û–°: **Ubuntu 22.04/24.04** –∏–ª–∏ **Debian 12** (–¥—Ä—É–≥–∏–µ Linux-–¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã —Å systemd —Ç–æ–∂–µ –ø–æ–¥–æ–π–¥—É—Ç).

- `python3` ‚â• 3.10 + `python3-venv`
- `make`
- `ansible` ‚â• 2.14
- `systemd`

---

### –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

<details>
<summary>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ —à–∞–≥–∏</summary>

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ansible** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

   ```bash
   sudo apt update
   sudo apt install -y ansible
   ```

2. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**

   ```bash
   git clone https://github.com/NkvMax/vvsu-schedule.git
   cd vvsu-schedule
   git checkout lite-selfhosted
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

   ```bash
   cp .env.example.server .env
   nano .env  # –∏–ª–∏ –ª—é–±–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
   ```

   –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - –õ–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –æ—Ç –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ –í–í–ì–£
   - –ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–≥–æ Google-–∫–∞–ª–µ–Ω–¥–∞—Ä—è
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

4. **–°–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç Google**

   –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å: `credentials/service_account.json`  

   > –°–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä–∏ –∏ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–Ω–æ —Ä–∞—Å—à–∞—Ä–µ–Ω—ã –Ω–∞ –µ–≥–æ email.

5. **–°–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π**

    –ò–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

    ```bash
    make infra
    ```

    –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
    - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    - –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
    - –†–∞–∑–≤–µ—Ä–Ω–µ—Ç systemd-—é–Ω–∏—Ç—ã
    - –í–∫–ª—é—á–∏—Ç —Ç–∞–π–º–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

</details>

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

<details>
<summary>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥</summary>

- **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**

  ```bash
  make run
  ```

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞ –∏ —Ç–∞–π–º–µ—Ä–∞**

  ```bash
  make status
  ```

- **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤**

  ```bash
  make logs
  ```

- **–ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —é–Ω–∏—Ç–æ–≤**

  ```bash
  make down
  ```

</details>

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –≤–µ—Ä—Å–∏–∏

<details>
<summary>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥</summary>

- **–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é (commit/tag)**

  ```bash
  make version
  ```

- **–ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ–ª–∏–∑—ã (–ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç–µ–≥–∏ v*)**

  ```bash
  make releases
  ```

- **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏**

  ```bash
  make changelog VERSION=vX.Y.Z
  ```

- **–û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É (git pull) + –ø—Ä–∏–º–µ–Ω–∏—Ç—å ansible + –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å**

  ```bash
  make update
  ```

- **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–ª–∏–∑ (—Ç–µ–≥) –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**

  ```bash
  make upgrade VERSION=vX.Y.Z
  ```

- **–û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–ª–∏–∑ (—Ç–µ–≥)**

  ```bash
  make rollback VERSION=vX.Y.Z
  ```

- **–í–µ—Ä–Ω—É—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –≤–µ—Ç–∫—É `lite-selfhosted`**

  ```bash
  make back
  ```

</details>


---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è–º–∏ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É.

<details>
<summary>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∫–æ–º–∞–Ω–¥—ã</summary>

- **–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º**

  ```bash
  make cal-help
  ```

- **–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π**

  ```bash
  make cal-list
  # –∏–ª–∏ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –ø—É—Ç–µ–º –∫ –∫–ª—é—á—É
  make cal-list SA_JSON=/path/to/service_account.json
  ```

- **–î–æ–±–∞–≤–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ ID** (–∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞—Å—à–∞—Ä–µ–Ω –Ω–∞ email SA)

  ```bash
  make cal-add CAL_ID="example@group.calendar.google.com"
  ```

- **–£–¥–∞–ª–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∏–∑ —Å–ø–∏—Å–∫–∞ SA** (–Ω–µ —É–¥–∞–ª—è–µ—Ç —Å–∞–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å)

  ```bash
  make cal-remove CAL_ID="example@group.calendar.google.com"
  ```

</details>

---

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

<details>
<summary>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å</summary>

- **–û—à–∏–±–∫–∞ 403 `accessNotConfigured`**  
   –í–∫–ª—é—á–∏—Ç–µ **Google Calendar API** –≤ –ø—Ä–æ–µ–∫—Ç–µ Google Cloud.

- **–û—à–∏–±–∫–∞ 404 / `insufficientPermissions`**  
   –ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–µ —Ä–∞—Å—à–∞—Ä–µ–Ω –Ω–∞ email —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π `CAL_ID`.

- **–°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**  
   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (`make logs`), –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `.env` –∏ –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.

- **–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏**  
   –ó–∞–ø—É—Å—Ç–∏—Ç–µ `make build` –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º.

</details>

---

**–õ–∏—Ü–µ–Ω–∑–∏—è**: MIT ¬© NkvMax üåü
